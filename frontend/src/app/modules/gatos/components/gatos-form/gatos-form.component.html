<!-- frontend/src/app/modules/gatos/components/gatos-form/gatos-form.component.html -->
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h2>{{ isEdit ? 'Editar Gato' : 'Crear Nuevo Gato' }}</h2>
      
      <form (ngSubmit)="guardarGato()" #gatoForm="ngForm">
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input
            type="text"
            class="form-control"
            id="nombre"
            name="nombre"
            [(ngModel)]="gato.nombre"
            required
            #nombre="ngModel"
          >
          <div *ngIf="nombre.invalid && nombre.touched" class="text-danger">
            El nombre es requerido
          </div>
        </div>

        <div class="mb-3">
          <label for="raza" class="form-label">Raza</label>
          <input
            type="text"
            class="form-control"
            id="raza"
            name="raza"
            [(ngModel)]="gato.raza"
            required
            #raza="ngModel"
          >
          <div *ngIf="raza.invalid && raza.touched" class="text-danger">
            La raza es requerida
          </div>
        </div>

        <div class="mb-3">
          <label for="edad" class="form-label">Edad</label>
          <input
            type="number"
            class="form-control"
            id="edad"
            name="edad"
            [(ngModel)]="gato.edad"
            required
            min="0"
            max="30"
            #edad="ngModel"
          >
          <div *ngIf="edad.invalid && edad.touched" class="text-danger">
            La edad es requerida (0-30 a√±os)
          </div>
        </div>

        <div class="mb-3">
          <label for="foto" class="form-label">URL de la Foto</label>
          <input
            type="text"
            class="form-control"
            id="foto"
            name="foto"
            [(ngModel)]="gato.foto"
            required
            #foto="ngModel"
            placeholder="https://cdn2.thecatapi.com/images/..."
          >
          <div *ngIf="foto.invalid && foto.touched" class="text-danger">
            La URL de la foto es requerida
          </div>
        </div>

        <!-- Mostrar imagen preview -->
        <div *ngIf="gato.foto" class="mb-3">
          <label class="form-label">Vista Previa:</label>
          <div>
            <img 
              [src]="gato.foto" 
              alt="Preview" 
              class="img-thumbnail"
              style="max-height: 200px;"
              onerror="this.style.display='none'"
            >
          </div>
        </div>

        <div class="d-flex gap-2">
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="gatoForm.invalid"
          >
            {{ isEdit ? 'Actualizar' : 'Guardar' }}
          </button>
          <button 
            type="button" 
            class="btn btn-secondary" 
            (click)="cancelar()"
          >
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
